{	
	"id" : "/post/lambdas-en-c-sharp/",
	"tv" : false,
	"date": "2015-08-03 13:00:00 -0500",
	"title" : "Lambdas en C#",
	"author" : "Antonio Feregrino Bolaños",
	"featured_image": "http://thatcsharpguy.com/postimagesfeatured.png",
	"tags" : ["AprendeCSharp"],
	  
	"content": '"Una vez que conocemos lo que es un delegado, y lo que son Func y Action, es momento de llegar a un tema que se convierte en algo muy sencillo, además es de mis cosas favoritas en C#: Las **expresiones lambda**. Comenzaré por dar un ejemplo de su uso: \n  \nEs decir, suponiendo que tenemos el método del ejemplo pasado.\n<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="err">\</span><span class="n">nvoid</span> <span class="n">RealizaOperacionSecreta</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">palabras</span><span class="p">,</span> <span class="n">Func</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">bool</span><span class="p">&gt;</span> <span class="n">filtro</span><span class="p">)</span><span class="err">\</span><span class="n">n</span></code></pre></figure>\nPara el que escribimos un método para usarlo como filtro:\n<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="err">\</span><span class="n">npublic</span> <span class="k">static</span> <span class="kt">bool</span> <span class="n">SoloConU</span><span class="p">(</span><span class="kt">string</span> <span class="n">s</span><span class="p">)</span><span class="err">\</span><span class="n">n</span><span class="p">{</span><span class="err">\</span><span class="n">n</span><span class="err">\</span><span class="n">treturn</span> <span class="n">s</span><span class="p">.</span><span class="n">StartsWith</span><span class="p">(</span><span class="err">\</span><span class="s">&quot;u\&quot;);\n}\n\n// ...\n// Ejemplo de uso:\nRealizaOperacionSecrete(palabras, SoloConU);\n</span></code></pre></figure>\nEn realidad, no es necesario escribir tanto, el método ```SoloConU```, puede ser reemplazado en el código por:  \n<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="err">\</span><span class="n">nRealizaOperacionSecrete</span><span class="p">(</span><span class="n">palabras</span><span class="p">,</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="n">s</span><span class="p">.</span><span class="n">StartsWith</span><span class="p">(</span><span class="err">\</span><span class="s">&quot;u\&quot;); });\n\n// O simplemente por:\nRealizaOperacionSecrete(palabras, s =&gt; s.StartsWith(\&quot;u\&quot;));\n</span></code></pre></figure>\nPor definición, las expresiones lambda son \"métodos anónimos para crear tipos delegados y árboles de expresión\", nos enfocaremos en lo primero. El método <code>SoloConU</code> es usado solamente una vez en nuestro programa y es por eso que es un buen candidato a ser reemplazado por un método anónimo (entre otras cosas, sin nombre). Y es que podría muchas veces resultarnos bastante engorroso tener que escribir le método completo para hacer referencia a él solamente una vez dentro de todo nuestro código.\n\n#### Crear una expresión lambda  \nMe gusta imaginar la creación de expresiones lambda como una especie de recorte de los métodos tradicionales, y es que lo podemos ver como una serie de pasos que funcionan tanto para métodos con tipo de dato de retorno o para los que no lo tienen:  \n\n<ol>\n\t<li>Quitamos todo lo que esté antes del primer paréntesis de apertura</li>\n\t<li>Agregamos el operador <code>=&gt;</code></li>\n\t<li>... listo</li>\n</ol>  \n\n#### Consideraciones extras  \nExisten otras consideraciones que podemos tomar en cuenta si queremos reducir aún más la cantidad de código escrito. Por ejemplo si a la expresión lambda recibe **un solo parámetro** se pueden omitir los paréntesis:\n\n<div class=\"pure-g\">\n    <div class=\"pure-u-1-2\">\n<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="err">\</span><span class="n">n</span><span class="c1">// Versión normal\n(a) =&gt; { return a.ToString(); }\n</span></code></pre></figure>\n\t</div>\n    <div class=\"pure-u-1-2\">\n<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="err">\</span><span class="n">n</span><span class="c1">// Versión \&quot;simplificada\&quot;\na =&gt; { return a.ToString(); }\n</span></code></pre></figure>\n\t</div>\n</div>\nSi la expresión lambda consta de una **única sentencia**, y esta es una **operación de retorno**, podemos omitir los corchetes, la palabra clave ```return``` y el ```;``` de fin de sentencia: \n\n<div class=\"pure-g\">\n    <div class=\"pure-u-1-2\">\n<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="err">\</span><span class="n">na</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span> <span class="p">}</span><span class="err">\</span><span class="n">n</span></code></pre></figure>\n\t</div>\n    <div class=\"pure-u-1-2\">\n<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="err">\</span><span class="n">na</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">ToString</span><span class="p">()</span><span class="err">\</span><span class="n">n</span></code></pre></figure>\n\t</div>\n</div>  \n\n#### Usos más frecuentes  \n<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="err">\</span><span class="n">n</span><span class="c1">// Eventos\naccessButton.Clicked += (sender, args) =&gt; { DoAccess(); };\n\n// Linq\nvar solteros = \tpersonas\n\t\t\t\t.Where(persona =&gt; persona.EsSoltero)\n\t\t\t\t.OrderBy(persona =&gt; persona.Nombre)\n\t\t\t\t.Select (persona =&gt; new Soltero { Nombre = persona.Nombre });\n</span></code></pre></figure>\nDe los usos más frecuentes de las expresiones lambda, podemos encontrar la asignación de manejadores de evento y en conjunto con Linq. Herramientas de las que les hablaré más adelante.\n\n**Este es el fin de la serie de posts** que comenzó con <a href=\"/delegados-en-c-sharp\" target=\"_blank\">delegados en C#</a> continuando con <a href=\"/func-y-action-en-c-sharp\" target=\"_blank\">func y action en C#</a>. Hay otro tema en el tintero, que son los árboles de expresiones, pero aún está en preparación."'   
}