{	
	"id" : "/post/que-son-portable-class-library/",
	"tv" : false,
	"date": "2015-11-02 04:00:00 -0600",
	"title" : "¿Qué es una Portable Class Library?",
	"author" : "Antonio Feregrino Bolaños",
	"featured_image": "http://thatcsharpguy.com/postimages/que-son-portable-class-library/featured.png",
	"tags" : ["VisualStudio"],
	"content": "<p>Imaginémonos esto:</p>\n\n<p>Supongamos que es nuestra tarea desarrollar una calculadora (que suma dos números) en C# para varias plataformas, entre ellas:</p>\n\n<ul>\n  <li>Android (con Xamarin.Android)</li>\n  <li>Consola de Windows</li>\n  <li>Sitio Web</li>\n</ul>\n\n<p>Estas tres son plataformas radicalmente distintas, cada una tiene características que son únicas para ella y es por eso que hasta hasta hace poco tiempo, nuestra única opción para desarrollar nuestra calculadora era escribirla una vez para cada plataforma, una librería para cada uno… algo así:</p>\n\n<p>post_image multiplelibs.png Múltiples librerías</p>\n\n<p>Como podemos ver, debíamos escribir el mismo código tres veces a pesar de ser el mismo lenguaje, y si en el futuro se nos ocurría llevar nuestra calculadora a Xbox tendríamos que reescribir otra vez nuestro código para dicha plataforma.</p>\n\n<h2 id=\"pcl\">PCL</h2>\n<p>Sin embargo todo cambió con la aparición de las PCL (<strong>Portable</strong> Class Library o Biblioteca de Clases Portable), que nos permiten compartir código entre distintas plataformas de <code>.NET</code> a través de una sola librería (“una sola dll”, podríamos decir). Con ella podemos hacer algo como esto:</p>\n\n<p>post_image singlelib.png Única librería</p>\n\n<p>Y esto es gracias a que nuestra calculadora es bastante simple, para hacer el cálculo no necesitamos leer datos de consola, ni acceder al GPS del celular ni menos montar un servidor nuestra página.</p>\n\n<h3 id=\"creando-una-pcl\">Creando una PCL</h3>\n<p>Desde Visual Studio tebemos ir a <code>Archivo / File</code> → <code>Nuevo / New</code> → <code>Proyecto / Project</code></p>\n\n<p>post_image pclcreation.jpg Creación de una PCL</p>\n\n<p>Poseriormente aparecerá una pequeña ventana con varias casillas de verificación a través de las cuales debemos elegir las plataformas sobre las que queremos que nuestra librería funcione, una vez elegidas damos click en <code class=\"button\">Aceptar</code></p>\n\n<p>post_image targetpcl.jpg Targets</p>\n\n<p>Y listo, solo queda referenciar a nuestra biblioteca desde nuestros proyectos.</p>\n\n<h3 id=\"limitaciones\">Limitaciones</h3>\n<p>Como podemos ver, al momento de crear una <em>biblioteca portable</em> debemos elegir sobre qué plataformas queremos que funcione y es quen es mediante esta selección estamos limitando la cantidad de características del framework .NET a las que vamos a tener acceso desde ella, en esta imagen se explica un poco mejor:</p>\n\n<p>post_image caracteristicas.png Características entre múltiples PCL</p>\n\n<p>La <em>biblioteca portable</em> siempre tomará la menor cantidad de características posibles para funcionar en todas las plataformas elegidas.</p>\n\n<h3 id=\"usos\">Usos</h3>\n<p>En el ejemplo de este post usé una calculadora (que suma únicamente dos números) pero en realidad pude haber puesto en una PCL cualquier cosa, desde la llamada a un web service hasta un cálculo matemático más complejo. Por cierto, <a href=\"https://github.com/fferegrino/pcls\" target=\"_blank\">el código de este post está en GitHub</a>.</p>\n\n<p>Las posibilidades de uso son muchísimas, diversos paquetes de NuGet se benefician de estar hechos en PCLs permitiéndoles así poder ser instalados en varias plataformas usando un mismo ensablado.</p>\n\n<p>Entre los diversos usos que se le pueden dar a una PCL está el de contener nuestras vistas en Xamarin.Forms, en este caso, la librería se comparte entre los proyectos de Xamarin.Android, Xamarin.iOS y Windows Phone.</p>\n"
}